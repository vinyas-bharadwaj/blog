{% extends 'app/base.html' %}

{% block content %}
  <center><h1>Blog Posts</h1></center>
  <br>
  <ul>
    {% for post in posts %}
      <hr>
      <h6 style="color: gray;">created by {{ post.author }} - {{ post.created_at }}
        &nbsp;
        [<small>
          <a  style="color: gray; text-decoration: none" href="{% url 'category-posts' post.category|slugify %}">{{ post.category }}</a>
        </small>]
      </h6>
      
      <li><h2><a style="text-decoration: none" href="{% url 'posts' post.id %}">{{ post.title }}</a></h2></li>
      <h3>{{ post.body|slice:":100"|safe }}</h3>

      {% if user.is_authenticated and user.id == post.author.id %}
        <small><a href="{% url 'update-post' post.id %}">Edit</a></small>
        <small><a style="color: red" href="{% url 'delete-post' post.id %}">Delete</a></small>
      {% endif %}

    {% endfor %}
  </ul>

{% endblock %}


